Make tests pass. Enforce input validation, timeouts/retries, structured JSON logger
(ASCII only), and audit events. No new dependencies unless justified in one line in PR.
Must pass: ruff check, ruff format --check, mypy app/.
